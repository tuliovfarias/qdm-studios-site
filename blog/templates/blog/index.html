{% extends 'base.html' %}
{% load static %}


{% block title %}QDM | STUDIOS{% endblock title %}

{% block css_files %}
<link rel="stylesheet" href="{% static 'blog/index.css' %}">
{% endblock css_files %}

{% block content %}
<div id="blog_content">
    <section id="slider">
        <div class="photo">
            <a href=""><img src="{% static 'blog/images/post1.jpg' %}" alt=""></a>
            <div class="img-title">Img 1</div>
        </div>
        <div class="photo">
            <a href=""><img src="{% static 'blog/images/post2.png' %}" alt=""></a>
            <div class="img-title">Img 2</div>
        </div>
        <div class="photo">
            <a href=""><img src="{% static 'blog/images/post3.JPG' %}" alt=""></a>
            <div class="img-title">Img 3</div>
        </div>
    </section>
    <section id='all_posts'>
    {% for post in posts %}
        <a href=""><img src="{% static 'blog/images/post1.jpg' %}" alt="{{posts.title|safe}},{{posts.datetime|safe}}">
            <p>{{post.text|safe|truncatewords:10}}</p>
        </a>
    {% endfor %}
    </section>
</div>

<script>
    //var images = document.getElementsByClassName("photo");
    var images = document.querySelectorAll(".photo");
    var delay_image = 3000;
    var counter = 0;
    images[counter].style.display = "block";
    setInterval(next_image, delay_image);

    function next_image() {
        //for (counter = 0; counter < images.length; counter++;) {
        //    images[counter].style.display = "none";
        //}
        images[counter].style.display = "none";
        counter = (counter + 1) % images.length;
        images[counter].style.display = "block";
    }
</script>
{% endblock content %}